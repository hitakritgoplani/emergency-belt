<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Location</title>
</head>

<body>
	<script type="module">
		
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
		import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries

		// Your web app's Firebase configuration
		const firebaseConfig = {
			apiKey: "",
			authDomain: "",
			projectId: "",
			storageBucket: "",
			messagingSenderId: "",
			appId: ""
		};

		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		var db = getDatabase(app);

		function getLocation(){
			navigator.geolocation.getCurrentPosition(postion =>{
				var {latitude, longitude} = postion.coords;
				console.log(latitude+" "+longitude)
				set(ref(db, 'location/'), {
    				lat:latitude,
					long:longitude
  				});
			});
			setTimeout(getLocation, 15000);
		};
		
		getLocation();
	</script>
</body>
</html>